<nav class="navbar">
  <div class="navbar-container">
    <div class="navbar-content">
      <!-- Left Section -->
      <div class="navbar-left">
        <a href="#" class="brand">
          <div class="brand-icon">
            <svg viewBox="0 0 24 24">
              <path
                d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
              ></path>
            </svg>
          </div>
          <span class="brand-name">StudyHub</span>
        </a>

        <!-- Desktop Navigation -->
        <div class="nav-links">
          <a href="{% url 'forum-home' %}" class="nav-link">
            <svg viewBox="0 0 24 24">
              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
              <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
            <span>Home</span>
          </a>
          <a href="{% url 'thread-list' %}" class="nav-link">
            <svg viewBox="0 0 24 24">
              <path
                d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
              ></path>
            </svg>
            <span>Threads</span>
          </a>
          {% if user.is_staff or user.groups.all|length > 0 %}
          <a href="{% url 'report-list' %}" class="nav-link">
            <svg viewBox="0 0 24 24">
              <path d="M12 9v2m0 4v2m0 5v1m0-11v1M4.22 4.22a9 9 0 1112.56 12.56M4.22 4.22l1.415 1.415m8.908-1.415l1.414 1.414m-3.121 3.12l1.414 1.415m-3.12-1.414l1.414-1.414"></path>
            </svg>
            <span>Reports</span>
          </a>
          {% endif %}
            {% if user.is_authenticated%}
      <!-- Right Section -->
      <div class="navbar-right">
        <!-- New Thread Button -->
        <button class="btn-new-thread" onclick="window.location.href='{% url 'thread-create' %}'">
          <svg viewBox="0 0 24 24">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
          <span>New Thread</span>
        </button>
        {% endif %}
          {% comment %} {% if is_moderator %}
            <a href="{% url 'moderation-report-list' %}" class="nav-link">
              <svg viewBox="0 0 24 24">
                <path d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span>Reports</span>
            </a>
          {% endif %} {% endcomment %}
        </div>
      </div>

        <!-- Notifications -->
        <button class="icon-button">
          <svg viewBox="0 0 24 24">
            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
          </svg>
          <span class="notification-badge">3</span>
        </button>

        <!-- Profile Dropdown -->
        <div class="dropdown dropdown-end">
          <label tabindex="0" class="profile-button">
            <div class="profile-avatar">
              {% if user.is_authenticated %}
                <span class="text-white text-sm font-semibold">
                  {{ user.username|first|upper }}
                </span>
              {% else %}
                <svg viewBox="0 0 24 24">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle>
                </svg>
              {% endif %}
            </div>
          </label>
          <ul tabindex="0" class="dropdown-content menu bg-base-200 rounded-box z-[1] w-52 p-2 shadow-lg border border-base-300 mt-2">
            {% if user.is_authenticated %}
              <li class="menu-title">
                <span class="text-white">{{ user.username }}</span>
                {% if user.email %}
                  <span class="text-gray-400 text-xs">{{ user.email }}</span>
                {% endif %}
              </li>
              <li><a href="{% url 'account_email' %}" class="text-white hover:bg-base-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
                Account Settings
              </a></li>
              <li><a href="{% url 'account_change_password' %}" class="text-white hover:bg-base-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z" />
                </svg>
                Change Password
              </a></li>
              <li><a href="{% url 'account_logout' %}" class="text-red-400 hover:bg-base-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                </svg>
                Logout
              </a></li>
            {% else %}
              <li><a href="{% url 'account_login' %}" class="text-white hover:bg-base-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
                </svg>
                Login
              </a></li>
              <li><a href="{% url 'account_signup' %}" class="text-white hover:bg-base-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
                </svg>
                Sign Up
              </a></li>
            {% endif %}
          </ul>
        </div>

        <!-- Mobile Menu Button -->
        <button
          class="icon-button mobile-menu-button"
          onclick="toggleMobileMenu()"
        >
          <svg id="menu-icon" viewBox="0 0 24 24">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
          <svg id="close-icon" viewBox="0 0 24 24" style="display: none">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
      <!-- Mobile Search -->
      <div class="mobile-search">
        <div class="search-wrapper">
          <svg class="search-icon" viewBox="0 0 24 24">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input
            type="text"
            class="search-input"
            placeholder="Search discussions..."
          />
        </div>
      </div>

      <!-- Mobile Navigation Links -->
      <div class="mobile-nav-links">
        <a href="#" class="mobile-nav-link">
          <svg viewBox="0 0 24 24">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            <polyline points="9 22 9 12 15 12 15 22"></polyline>
          </svg>
          <span>Home</span>
        </a>
        <a href="#" class="mobile-nav-link">
          <svg viewBox="0 0 24 24">
            <path
              d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
            ></path>
          </svg>
          <span>Threads</span>
        </a>
        <a href="#" class="mobile-nav-link">
          <svg viewBox="0 0 24 24">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
          </svg>
          <span>Rooms</span>
        </a>
        <button class="mobile-btn-new-thread">
          <svg viewBox="0 0 24 24">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
          <span>New Thread</span>
        </button>
        <a href="#" class="mobile-nav-link">
          <svg viewBox="0 0 24 24">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          <span>Profile</span>
        </a>
      </div>
    </div>
  </div>
</nav>
